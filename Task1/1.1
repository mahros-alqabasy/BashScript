#!/bin/bash

# find in-secure files
# by using <find> command with <777> permission

# define styling
TAB="    "
STAB="  "


# find the in-secure files
output=$(find $1 -type f -perm 777 -print)
count=$(echo "$output" | wc -l)


# check if count is zero
if [ "$count" -eq "0" ]; then
	echo "Directory is Secure!"
else
	echo "WARNING: Found ($count) Insecure Files"
	for file in $output; do
		echo "$STAB$file"
	done
fi


